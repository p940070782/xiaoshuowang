(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f92db34"],{"00cf":function(t,o,s){t.exports=s.p+"img/mybook1.0f8e62c6.png"},"20c2":function(t,o,s){"use strict";var n=s("20dc"),e=s.n(n);e.a},"20dc":function(t,o,s){},"8bf3":function(t,o,s){"use strict";s.r(o);var n=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{attrs:{id:"my-book"}},[n("ReturnHead",{attrs:{title:"我的书架",show:"true"}}),t.show?n("div",[n("p",{staticClass:"b-title"},[n("span",[t._v("我的书架")]),n("span",{staticClass:"delete",on:{click:function(o){t.flag=!t.flag}}},[t._v(t._s(this.flag?"取消":"删除"))])]),n("ul",{staticClass:"mybook-list"},[t._l(t.myBooks,function(o,s){return n("li",{key:s},[t.flag?n("van-tag",{staticClass:"close",attrs:{type:"warning"},on:{click:function(n){return t.deleteMybook(o.username,o.title,s)}}},[t._v("x")]):t._e(),n("router-link",{attrs:{to:{name:"detail",params:{bookId:o.bookInfo._id}}}},[n("div",{staticClass:"pic-book"},[n("img",{attrs:{src:o.bookInfo.iconUrl,alt:""}})]),n("h3",{staticClass:"title-book"},[t._v(t._s(o.title))])])],1)}),n("li",{staticClass:"add"},[n("router-link",{attrs:{to:{name:"home"}}},[n("div",{staticClass:"pic-book"})])],1)],2)]):t._e(),t.show?t._e():n("div",{staticClass:"no-book"},[n("img",{attrs:{src:s("00cf"),alt:""}}),n("router-link",{attrs:{to:{name:"home"}}},[n("van-button",{attrs:{color:"#00c98d"}},[t._v("去书城逛逛")])],1)],1)],1)},e=[],a=s("2241"),i={data:function(){return{show:!0,myBooks:[],flag:!1}},methods:{deleteMybook:function(t,o,s){var n=this;a["a"].confirm({title:"删除书籍",message:"您确认要删除吗？"}).then(function(){n.$axios.post("/vue/dltBook",{title:o}).then(function(t){console.log(t),n.myBooks.splice(s,1),0==n.myBooks.length&&(n.show=!1)})})}},mounted:function(){var t=this;sessionStorage.userInfo||this.$router.push({name:"login"}),this.$axios.post("/vue/findMyBook").then(function(o){0==o.data.result.length?t.show=!1:t.myBooks=o.data.result})}},l=i,c=(s("20c2"),s("2877")),r=Object(c["a"])(l,n,e,!1,null,"2728f50d",null);o["default"]=r.exports}}]);
//# sourceMappingURL=chunk-3f92db34.fa391843.js.map